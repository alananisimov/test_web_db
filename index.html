<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
<script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="ezfps_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
<script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
Telegram.login({
  widget: "telegramLoginWidget",
  onSuccess: function (user) {
    var token = user.auth_date + ":" + user.id + ":" + user.hash;
    // Далее выполните сохранение данных в базу данных SQLite
    // Например, используя AJAX запрос к серверу
    $.ajax({
      type: "POST",
      url: "/save_user_data",
      data: {token: token},
      success: function(response){
        console.log(response);
      },
      error: function(error){
        console.log(error);
      }
    });
  },
  onError: function (error) {
    console.log(error);
  }
});
  }
</script>
</body>
</html>

<!-- <script src="https://telegram.org/js/telegram-web-app.js"></script> -->
